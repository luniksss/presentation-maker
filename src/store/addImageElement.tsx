import { generateRandomId } from "./data";
import { Editor } from "./EditorType";
import { ImageElement } from "./PresentationType";

function addImageElement(editor: Editor): Editor {
    const newElement: ImageElement = {
        id: generateRandomId(),
        size: { width: 200, height: 200 },
        position: { x: 0, y: 0 },
        isSelected: true,
        type: 'image',
        src: "data:image/jpeg;base64,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"
    }
    const selectedSlideId = editor.selection.slideId
    const selectedSlideIndex = editor.presentation.slides.findIndex(slide => slide.id === selectedSlideId)
    const newElements = [...editor.presentation.slides[selectedSlideIndex].elements, newElement]
    const currentSlide = editor.presentation.slides[selectedSlideIndex]

    return {
        ...editor,
        presentation: {
            ...editor.presentation,
            slides: [
                ...editor.presentation.slides.slice(0, selectedSlideIndex),
                { ...currentSlide, elements: newElements },
                ...editor.presentation.slides.slice(selectedSlideIndex + 1)
            ]
        },
        selection: {
            ...editor.selection,
            slideId: selectedSlideId,
            elementId: newElement.id
        }
    }
}

export { addImageElement }